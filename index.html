<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>漢字メーカー - 小学校漢字学習</title>
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div class="container">
            <header>
                <h1>🌟 漢字メーカー 🌟</h1>
                <p class="subtitle">
                    「へん」と「つくり」を組み合わせて正しい漢字を作ろう！
                </p>
                <!-- 学年選択 -->
                <div class="grade-selector">
                    <label for="grade-select">学年を選択：</label>
                    <select id="grade-select" class="grade-select">
                        <option value="1">1年生 (80字)</option>
                        <option value="2">2年生 (160字)</option>
                        <option value="3" selected>3年生 (200字)</option>
                        <option value="4">4年生 (202字)</option>
                        <option value="5">5年生 (193字)</option>
                        <option value="6">6年生 (191字)</option>
                    </select>
                </div>
            </header>

            <main>
                <!-- Left Sidebar -->
                <div class="left-sidebar">
                    <!-- 達成度表示 -->
                    <div class="achievement-board">
                        <div class="achievement-header">
                            <h3>🎯 学習の達成度</h3>
                            <div
                                id="achievement-badge"
                                class="achievement-badge starter"
                            >
                                ✨ スタート
                            </div>
                        </div>
                        <div class="achievement-stats">
                            <div class="stat-item">
                                <span class="label">学習済み:</span>
                                <span id="learned-count" class="count">0</span>
                                <span class="total"
                                    >/
                                    <span id="total-kanji-count"
                                        >200</span
                                    ></span
                                >
                            </div>
                            <div class="stat-item">
                                <span class="label">達成率:</span>
                                <span
                                    id="achievement-percentage"
                                    class="percentage"
                                    >0%</span
                                >
                            </div>
                            <div class="stat-item">
                                <span class="label">ヒント使用:</span>
                                <span id="hint-count" class="count">0</span>
                                <span class="total">回</span>
                            </div>
                        </div>
                        <div class="achievement-progress">
                            <div class="achievement-bar">
                                <div
                                    class="achievement-fill"
                                    id="achievement-fill"
                                ></div>
                            </div>
                        </div>
                        <button
                            id="reset-progress"
                            class="btn btn-danger reset-btn"
                        >
                            学習記録リセット
                        </button>
                        <div class="current-grade-info">
                            <span id="current-grade-display">現在：3年生</span>
                        </div>
                    </div>
                </div>

                <!-- Center Main Area -->
                <div class="center-main">
                    <!-- 問題エリア -->
                    <div class="problem-area">
                        <div class="question-box">
                            <h2>この読み方の漢字を作ってください:</h2>
                            <div class="reading-display">
                                <span id="current-reading">よみかた</span>
                            </div>
                            <div class="meaning-display">
                                意味: <span id="current-meaning">意味</span>
                            </div>
                            <div
                                id="kanji-status"
                                class="kanji-status unlearned"
                            >
                                🆕 未学習
                            </div>
                        </div>

                        <!-- 漢字作成エリア -->
                        <div class="kanji-builder">
                            <h3>部首を組み合わせて漢字を作ろう</h3>
                            <div class="kanji-construction">
                                <div class="radical-slot" id="left-slot">
                                    <span class="slot-label">へん</span>
                                    <div
                                        class="radical-display"
                                        id="left-radical"
                                    ></div>
                                </div>
                                <div class="plus-sign">+</div>
                                <div class="radical-slot" id="right-slot">
                                    <span class="slot-label">つくり</span>
                                    <div
                                        class="radical-display"
                                        id="right-radical"
                                    ></div>
                                </div>
                                <div class="equals-sign">=</div>
                                <div class="result-kanji" id="result-kanji">
                                    ?
                                </div>
                            </div>
                        </div>

                        <!-- 部首選択エリア -->
                        <div class="radical-selection">
                            <div class="radical-group">
                                <h4>へん（左側の部首）</h4>
                                <div class="radical-options" id="left-options">
                                    <!-- 部首オプションがJavaScriptで動的に生成される -->
                                </div>
                            </div>
                            <div class="radical-group">
                                <h4>つくり（右側の部首）</h4>
                                <div class="radical-options" id="right-options">
                                    <!-- 部首オプションがJavaScriptで動的に生成される -->
                                </div>
                            </div>
                        </div>

                        <!-- アクションボタン -->
                        <div class="action-buttons">
                            <button
                                id="check-answer"
                                class="btn btn-primary"
                                disabled
                            >
                                答えを確認
                            </button>
                            <button id="hint-button" class="btn btn-secondary">
                                ヒント
                            </button>
                            <button
                                id="next-question"
                                class="btn btn-success"
                                style="display: none"
                            >
                                次の問題
                            </button>
                            <button id="new-game" class="btn btn-info">
                                新しいセッション
                            </button>
                        </div>

                        <!-- 結果表示 -->
                        <div
                            id="result-message"
                            class="result-message"
                            style="display: none"
                        >
                            <div class="message-content"></div>
                        </div>
                    </div>
                </div>

                <!-- Right Sidebar -->
                <div class="right-sidebar">
                    <!-- ランキング切り替えタブ -->
                    <div class="ranking-tabs">
                        <button id="fast-tab" class="tab-button active">
                            ⚡ 最速
                        </button>
                        <button id="slow-tab" class="tab-button">
                            🐌 苦手
                        </button>
                    </div>

                    <!-- 最速ランキング -->
                    <div class="speed-ranking" id="fast-ranking">
                        <div class="ranking-header">
                            <h3>⚡ 最速ランキング</h3>
                            <div class="ranking-subtitle">
                                素早く答えられた漢字トップ10
                            </div>
                        </div>
                        <div class="ranking-list" id="speed-ranking-list">
                            <div class="no-records">
                                まだ記録がありません<br />
                                頑張って問題を解いてみよう！
                            </div>
                        </div>
                    </div>

                    <!-- 苦手ランキング -->
                    <div
                        class="slow-ranking"
                        id="slow-ranking"
                        style="display: none"
                    >
                        <div class="ranking-header">
                            <h3>🐌 苦手ランキング</h3>
                            <div class="ranking-subtitle">
                                時間がかかった漢字トップ10
                            </div>
                        </div>
                        <div class="ranking-list" id="slow-ranking-list">
                            <div class="no-records">
                                まだ記録がありません<br />
                                頑張って問題を解いてみよう！
                            </div>
                        </div>
                    </div>

                    <!-- 今回の解答時間 -->
                    <div class="current-time">
                        <div class="time-header">
                            <h4>⏱️ 解答時間</h4>
                        </div>
                        <div class="time-display" id="current-time-display">
                            <span class="time-value" id="current-time"
                                >0.0秒</span
                            >
                        </div>
                        <div class="time-status" id="time-status">
                            問題開始でタイマーが始まります
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- ヒントモーダル -->
        <div id="hint-modal" class="modal" style="display: none">
            <div class="modal-content hint-modal">
                <div class="modal-header">
                    <h2>💡 ヒント</h2>
                    <button id="close-hint-modal" class="close-btn">
                        &times;
                    </button>
                </div>
                <div class="modal-body">
                    <div id="hint-content" class="hint-content">
                        <!-- ヒント内容がJavaScriptで挿入される -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="close-hint" class="btn btn-secondary">
                        閉じる
                    </button>
                </div>
            </div>
        </div>

        <!-- 完全制覇達成モーダル -->
        <div
            id="complete-achievement-modal"
            class="modal"
            style="display: none"
        >
            <div class="modal-content achievement-modal">
                <div class="modal-header">
                    <h2>🏆 完全制覇おめでとうございます！ 🏆</h2>
                </div>
                <div class="modal-body">
                    <div class="achievement-celebration">
                        <div class="trophy">🏆</div>
                        <p>小学3年生の漢字200字をすべて制覇しました！</p>
                        <p>素晴らしい頑張りです！</p>
                        <div class="celebration-message">
                            部首の組み合わせで漢字を理解する力がついていますね。<br />
                            この調子で漢字学習を続けていきましょう！
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="continue-learning" class="btn btn-primary">
                        復習を続ける
                    </button>
                    <button id="close-complete-modal" class="btn btn-secondary">
                        閉じる
                    </button>
                </div>
            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>
